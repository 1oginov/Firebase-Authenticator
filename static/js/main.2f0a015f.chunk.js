(this["webpackJsonp@loginov-rocks/firebase-authenticator-web-app"]=this["webpackJsonp@loginov-rocks/firebase-authenticator-web-app"]||[]).push([[0],{188:function(e,t,a){e.exports=a(321)},206:function(e,t){},208:function(e,t){},241:function(e,t){},242:function(e,t){},320:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(13),i=a.n(r),c=a(22),o=(a(197),a(380)),l=a(374),s=a(80),u=a.n(s),p=a(360),m=a(364),d=a(363),g=a(67),h=a(153),b=a.n(h),f=function(e){var t=e.actionItems,a=e.classes,r=e.navigationClick,i=e.navigationIcon,c=e.title;return n.createElement(p.a,{color:"default",position:"static"},n.createElement(d.a,null,n.createElement(m.a,{className:a.navigationButton,color:"inherit",onClick:r},i||n.createElement(b.a,null)),n.createElement(g.a,{className:a.title,color:"inherit",noWrap:!0,variant:"h6"},c),t&&t.length>0&&n.createElement("div",{className:a.actionItems},t.map((function(e,t){var a=e.click,r=e.icon;return n.createElement(m.a,{color:"inherit",key:t,onClick:a},r)})))))};f.defaultProps={actionItems:void 0,navigationIcon:void 0};var E=f,v=a(4),A=Object(v.a)((function(e){return{actionItems:{flexShrink:0,marginRight:e.spacing(-1.5)},navigationButton:{marginLeft:e.spacing(-1.5),marginRight:e.spacing(2.5)},title:{flexGrow:1}}}))(E),O=a(368),I=a(366),k=a(367),C=a(174),j=a(381),y=a(379),S=function(e){var t=e.apiKey,a=e.authDomain,r=e.buttonIcon,i=e.buttonTitle,c=e.classes,o=e.className,l=e.databaseUrl,s=e.handleInputChange,u=e.handleSubmit,p=e.messagingSenderId,m=e.projectId,d=e.redirectRefreshTokenPlaceholder,h=e.redirectUrl,b=e.signInOptionEmail,f=e.signInOptionGithub,E=e.signInOptionGoogle,v=e.storageBucket,A=e.title;return n.createElement("form",{className:[c.root,o].join(" "),onSubmit:u},n.createElement(C.a,{className:c.paper},n.createElement(y.a,{fullWidth:!0,label:"Title",margin:"normal",name:"title",onChange:s,value:A,variant:"outlined"})),n.createElement(C.a,{className:c.paper},n.createElement(g.a,{variant:"h6"},"Redirect"),n.createElement(y.a,{fullWidth:!0,label:"URL",margin:"normal",name:"redirectUrl",onChange:s,value:h,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Refresh token placeholder",margin:"normal",name:"redirectRefreshTokenPlaceholder",onChange:s,value:d,variant:"outlined"})),n.createElement(C.a,{className:c.paper},n.createElement(g.a,{variant:"h6"},"Firebase: configuration"),n.createElement(y.a,{fullWidth:!0,label:"API key",margin:"normal",name:"apiKey",onChange:s,value:t,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Auth domain",margin:"normal",name:"authDomain",onChange:s,value:a,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Database URL",margin:"normal",name:"databaseUrl",onChange:s,value:l,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Messaging sender ID",margin:"normal",name:"messagingSenderId",onChange:s,value:p,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Project ID",margin:"normal",name:"projectId",onChange:s,value:m,variant:"outlined"}),n.createElement(y.a,{fullWidth:!0,label:"Storage bucket",margin:"normal",name:"storageBucket",onChange:s,value:v,variant:"outlined"})),n.createElement(C.a,{className:c.paper},n.createElement(g.a,{variant:"h6"},"Firebase: sign in options"),n.createElement(I.a,null,n.createElement(k.a,{control:n.createElement(j.a,{checked:b,name:"signInOptionEmail",onChange:s}),label:"Email"}),n.createElement(k.a,{control:n.createElement(j.a,{checked:f,name:"signInOptionGithub",onChange:s}),label:"GitHub"}),n.createElement(k.a,{control:n.createElement(j.a,{checked:E,name:"signInOptionGoogle",onChange:s}),label:"Google"}))),n.createElement("div",{className:c.buttonContainer},n.createElement(O.a,{color:"primary",type:"submit",variant:"extended"},r(c.buttonIcon),i)))},F=a(82),P=a(56),N=a(12),R=a(155),B=a.n(R),_=Object(N.a)(Object(N.e)((function(e){var t=e.initial;return{apiKey:t&&t.config.apiKey||"",authDomain:t&&t.config.authDomain||"",databaseUrl:t&&t.config.databaseURL||"",messagingSenderId:t&&t.config.messagingSenderId||"",projectId:t&&t.config.projectId||"",redirectRefreshTokenPlaceholder:t&&t.redirect.refreshTokenPlaceholder||"%refreshToken%",redirectUrl:t&&t.redirect.url||"",signInOptionEmail:!!t&&t.signInOptions.indexOf("email")>=0,signInOptionGithub:!!t&&t.signInOptions.indexOf("github")>=0,signInOptionGoogle:!!t&&t.signInOptions.indexOf("google")>=0,storageBucket:t&&t.config.storageBucket||"",title:t&&t.title||""}}),{handleInputChange:function(){return function(e){var t=e.target,a=t.checked,n=t.name,r=t.type,i=t.value;return Object(P.a)({},n,"checkbox"===r?a:i)}}}),Object(N.c)({handleSubmit:function(e){var t=e.apiKey,a=e.authDomain,n=e.databaseUrl,r=e.messagingSenderId,i=e.onSubmit,c=e.projectId,o=e.redirectRefreshTokenPlaceholder,l=e.redirectUrl,s=e.signInOptionEmail,u=e.signInOptionGithub,p=e.signInOptionGoogle,m=e.storageBucket,d=e.title;return function(e){e.preventDefault(),i({config:{apiKey:t,authDomain:a,databaseURL:n,messagingSenderId:r,projectId:c,storageBucket:m},id:B()(),redirect:{refreshTokenPlaceholder:o,url:l},signInOptions:[].concat(Object(F.a)(s?["email"]:[]),Object(F.a)(u?["github"]:[]),Object(F.a)(p?["google"]:[])),title:d})}}})),D=Object(v.a)((function(e){return{buttonContainer:{textAlign:"center"},buttonIcon:{marginRight:e.spacing()},paper:{marginBottom:e.spacing(3),padding:e.spacing(3),paddingBottom:e.spacing(2),paddingTop:e.spacing(2)},root:{maxWidth:"100%"}}}))(_(S)),w=function(e){var t=e.classes,a=e.handleBackClick,r=e.onSubmit;return n.createElement(n.Fragment,null,n.createElement(A,{navigationClick:a,title:"Create Firebase app"}),n.createElement("div",{className:t.root},n.createElement(D,{className:t.form,buttonIcon:function(e){return n.createElement(u.a,{className:e})},buttonTitle:"Create app",onSubmit:r})))},T=a(41),x=function(e,t){return function(a){a({payload:{params:t,route:e},type:"NAVIGATE"})}},U=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_CREATED"})}},L=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_SELECTED"})}},W=a(81),G={navigate:x},M=function(e){return Object(N.a)(Object(c.b)(null,G),Object(N.c)((function(){var t={};return Object.keys(e).forEach((function(a){t[a]=function(t){var n=t.navigate,r=Object(W.a)(t,["navigate"]);return function(t){var i=e[a];if("function"===typeof i){var c=i(r,t),o=c.params,l=c.route;n(l,o)}else{var s=e[a];n(s)}}}})),t})))},H={createFirebaseApp:U,selectFirebaseApp:L},V=Object(N.a)(M({handleBackClick:"HOME",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)(null,H),Object(N.c)({onSubmit:function(e){var t=e.createFirebaseApp,a=e.handleFirebaseAppNavigate,n=e.selectFirebaseApp;return function(e){t(e),n(e.id),a()}}})),z=function(e){return{alignItems:"center",display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"center",padding:e.spacing(3)}},K=Object(v.a)((function(e){return{form:{width:512},root:z(e)}}))(V(w)),J=a(156),X=a(157),$=a(172),q=a(158),Q=a(173),Y=a(162),Z=a.n(Y),ee=a(164),te=a.n(ee),ae=a(163),ne=a.n(ae),re=a(6),ie=a.n(re),ce=(a(102),a(373)),oe=a(369),le=a(372),se=a(371),ue=a(370),pe=function(e){var t=e.classes,a=e.email,r=e.handleContinueClick,i=e.handleSignOutClick,c=e.name,o=e.pictureUrl;return n.createElement(oe.a,null,o&&n.createElement(ue.a,{className:t.media,image:o,title:"User"}),n.createElement(se.a,null,n.createElement(g.a,{gutterBottom:Boolean(c||a),variant:"h6"},"Signed in"),c&&n.createElement(g.a,null,c),a&&n.createElement(g.a,null,a)),n.createElement(le.a,{className:t.actions},n.createElement(ce.a,{color:"secondary",onClick:i,size:"small"},"Sign out"),n.createElement(ce.a,{color:"primary",onClick:r,size:"small"},"Continue")))},me=Object(N.a)(Object(N.c)({handleContinueClick:function(e){var t=e.app,a=e.appInstance;return function(){var e=a.auth().currentUser;if(!e)throw new Error("User is missing");var n,r=e.refreshToken;n=t.redirect.url.replace(t.redirect.refreshTokenPlaceholder,r),window.location=n}},handleSignOutClick:function(e){var t=e.appInstance;return function(){t.auth().signOut()}}}),Object(N.d)((function(e){var t=e.appInstance.auth().currentUser;if(!t)throw new Error("User is missing");return{email:t.email||"",name:t.displayName||"",pictureUrl:t.photoURL||""}}))),de=Object(v.a)({actions:{justifyContent:"space-between"},media:{paddingTop:"100%"}})(me(pe)),ge=a(159),he=a.n(ge),be=function(e){var t=e.classes;return n.createElement(he.a,{className:t.root},"Configured apps persisted only in this browser and nowhere else. The project is open source and available at"," ",n.createElement("a",{className:t.link,href:"https://github.com/1oginov/Firebase-Authenticator",target:"_blank",rel:"noopener noreferrer"},"GitHub"))},fe=Object(v.a)((function(e){return{link:{color:e.palette.text.secondary},root:{color:e.palette.text.hint,maxWidth:e.spacing(52),textAlign:"center"}}}))(be),Ee=a(160),ve=a.n(Ee),Ae=function(e){var t=e.appInstance,a={callbacks:{signInSuccessWithAuthResult:function(){return!1}},signInOptions:e.signInOptions.map((function(e){switch(e){case"email":return ie.a.auth.EmailAuthProvider.PROVIDER_ID;case"github":return ie.a.auth.GithubAuthProvider.PROVIDER_ID;case"google":return ie.a.auth.GoogleAuthProvider.PROVIDER_ID;default:return}}))};return n.createElement(ve.a,{firebaseAuth:t.auth(),uiConfig:a})},Oe=Object(N.b)({componentDidCatch:function(){var e;(e=console).error.apply(e,arguments)}})(Ae),Ie=a(375),ke=function(e){var t=e.classes,a=e.text;return n.createElement("div",{className:t.root},n.createElement(Ie.a,{size:64}),n.createElement(g.a,{className:t.text,color:"textSecondary",variant:"body1"},a))},Ce=Object(v.a)((function(e){return{root:{alignItems:"center",display:"flex",flexDirection:"column"},text:{marginTop:e.spacing(3),textAlign:"center"}}}))(ke),je=function(e){function t(e){var a;return Object(J.a)(this,t),(a=Object($.a)(this,Object(q.a)(t).call(this,e))).state={appInstance:void 0,isAuthenticated:void 0},a}return Object(Q.a)(t,e),Object(X.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app,a=ie.a.initializeApp(t.config);try{this.unregisterAuthObserver=a.auth().onAuthStateChanged((function(t){e.setState({isAuthenticated:Boolean(t)})}))}catch(n){console.error(n)}console.log("Firebase app initialized",t.config),this.setState({appInstance:a})}},{key:"componentWillUnmount",value:function(){var e=this.props.app,t=this.state.appInstance;this.unregisterAuthObserver&&this.unregisterAuthObserver(),t&&t.delete().then((function(){return console.log("Firebase app deleted",e.config)}))}},{key:"renderAuth",value:function(){var e=this.props.app,t=this.state,a=t.appInstance,r=t.isAuthenticated;return a?!1===r?n.createElement(Oe,{appInstance:a,signInOptions:e.signInOptions}):!0===r?n.createElement(de,{app:e,appInstance:a}):n.createElement(Ce,{text:"Loading authentication state..."}):n.createElement(Ce,{text:"Initializing Firebase app..."})}},{key:"render",value:function(){var e=this.props,t=e.app,a=e.classes,r=e.handleBackClick,i=e.handleShareClick,c=e.handleUpdateClick;return n.createElement(n.Fragment,null,n.createElement(A,{actionItems:[{click:c,icon:n.createElement(Z.a,null)},{click:i,icon:n.createElement(ne.a,null)}],navigationClick:r,navigationIcon:n.createElement(te.a,null),title:t.title?t.title:t.id}),n.createElement("div",{className:a.root},n.createElement("div",{className:a.authContainer},this.renderAuth()),n.createElement(g.a,{className:a.info,variant:"body1"},n.createElement("strong",null,"Firebase auth domain:")," ",t.config.authDomain),n.createElement(g.a,{className:a.info,variant:"body1"},n.createElement("strong",null,"Redirect URL:")," ",t.redirect.url),n.createElement(fe,null)))}}]),t}(n.Component),ye=Object(N.a)(M({handleBackClick:"HOME",handleUpdateClick:"UPDATE_FIREBASE_APP"}),Object(c.b)((function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}})),Object(N.c)({handleShareClick:function(e){var t=e.app;return function(){prompt("Share this link:",function(e){var t=new URL(window.location.href);return t.search="",t.searchParams.append("firebase-app",JSON.stringify(e)),t.toString()}(t))}}})),Se=Object(v.a)((function(e){return{authContainer:{marginBottom:e.spacing(3)},info:{marginBottom:e.spacing(3),textAlign:"center"},root:z(e)}}))(ye(je)),Fe=a(365),Pe=a(376),Ne=a(377),Re=function(e){var t=e.app,a=e.onSelect;return n.createElement(Pe.a,{button:!0,onClick:function(){return a(t.id)}},n.createElement(Ne.a,{primary:t.title?t.title:t.id,primaryTypographyProps:{noWrap:!0}}))},Be=function(e){var t=e.apps,a=e.classes,r=e.className,i=e.onSelect;return 0===t.length?null:n.createElement(C.a,{className:[a.paper,r].join(" ")},n.createElement(Fe.a,null,t.map((function(e,t){return n.createElement(Re,{app:e,key:t,onSelect:i})}))))},_e=Object(v.a)({paper:{maxWidth:"100%"}})(Be),De=function(e){var t=e.classes,a=e.className;return n.createElement(g.a,{className:[t.root,a].join(" "),variant:"h4"},"Firebase Authenticator")},we=Object(v.a)({root:{textAlign:"center"}})(De),Te=function(e){var t=e.apps,a=e.classes,r=e.handleCreateFirebaseAppClick,i=e.onSelect;return n.createElement("div",{className:a.root},n.createElement(we,{className:a.logo}),n.createElement(_e,{apps:t,className:a.firebaseAppsList,onSelect:i}),n.createElement("div",{className:a.fabContainer},n.createElement(O.a,{color:"secondary",onClick:r,variant:"extended"},n.createElement(u.a,{className:a.fabIcon}),"Create Firebase app")),n.createElement(fe,null))},xe={selectFirebaseApp:L},Ue=Object(N.a)(M({handleCreateFirebaseAppClick:"CREATE_FIREBASE_APP",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)((function(e){var t=e.firebaseApps;return{apps:Object.keys(t).map((function(e){return t[e]}))}}),xe),Object(N.c)({onSelect:function(e){var t=e.handleFirebaseAppNavigate,a=e.selectFirebaseApp;return function(e){a(e),t()}}})),Le=Object(v.a)((function(e){return{fabContainer:{marginBottom:e.spacing(3),textAlign:"center"},fabIcon:{marginRight:e.spacing()},firebaseAppsList:{marginBottom:e.spacing(3)},logo:{marginBottom:e.spacing(5),marginTop:e.spacing(2)},root:z(e)}}))(Ue(Te)),We=a(378),Ge=a(165),Me=a.n(Ge),He=function(e){var t=e.app,a=e.classes,r=e.handleBackClick,i=e.handleDeleteClick,c=e.onSubmit;return n.createElement(n.Fragment,null,n.createElement(A,{navigationClick:r,title:"Update Firebase app"}),n.createElement("div",{className:a.root},n.createElement(D,{className:a.form,buttonIcon:function(e){return n.createElement(Me.a,{className:e})},buttonTitle:"Save changes",initial:t,onSubmit:c}),n.createElement("div",null,n.createElement(We.a,{className:a.deleteDivider}),n.createElement("div",{className:a.deleteContainer},n.createElement(ce.a,{className:a.deleteButton,onClick:i,variant:"outlined"},"Delete"),n.createElement(g.a,null,"This action cannot be undone!")))))},Ve={deleteFirebaseApp:function(e){return function(t){t({payload:e,type:"FIREBASE_APP_DELETED"})}},updateFirebaseApp:function(e,t){return function(a){a({payload:Object(T.a)({},t,{id:e}),type:"FIREBASE_APP_UPDATED"})}}},ze=Object(N.a)(M({handleBackClick:"FIREBASE_APP",handleHomeClick:"HOME"}),Object(c.b)((function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}}),Ve),Object(N.c)({handleDeleteClick:function(e){var t=e.app,a=e.deleteFirebaseApp,n=e.handleHomeClick;return function(){n(),a(t.id)}},onSubmit:function(e){var t=e.app,a=e.handleBackClick,n=e.updateFirebaseApp;return function(e){n(t.id,e),a()}}})),Ke=Object(v.a)((function(e){return{deleteButton:{color:e.palette.error.main,marginRight:e.spacing(2)},deleteContainer:{alignItems:"center",display:"flex"},deleteDivider:{marginBottom:e.spacing(2),marginTop:e.spacing(3)},form:{width:512},root:z(e)}}))(ze(He)),Je=function(e){var t,a=e.route,r=e.theme;switch(a){case"CREATE_FIREBASE_APP":t=n.createElement(K,null);break;case"FIREBASE_APP":t=n.createElement(Se,null);break;case"UPDATE_FIREBASE_APP":t=n.createElement(Ke,null);break;default:t=n.createElement(Le,null)}return n.createElement(l.a,{theme:r},n.createElement(o.a,null),t)},Xe=a(170),$e=a(166),qe=a.n($e),Qe=a(167),Ye=a.n(Qe),Ze={palette:{primary:qe.a,secondary:Ye.a},typography:{useNextVariants:!0}},et={createFirebaseApp:U,navigate:x,selectFirebaseApp:L},tt=Object(N.a)(Object(N.d)((function(){return{theme:Object(Xe.a)(Ze)}})),Object(c.b)((function(e){return{currentFirebaseApp:e.currentFirebaseApp,firebaseApps:e.firebaseApps,route:e.route}}),et),Object(N.b)({componentDidMount:function(){var e=this.props,t=e.createFirebaseApp,a=e.currentFirebaseApp,n=e.firebaseApps,r=e.navigate,i=e.selectFirebaseApp,c=function(e){var t=new URL(e).searchParams.get("firebase-app");if(t)try{return JSON.parse(t)}catch(a){console.error(a)}}(window.location.href);c&&!n[c.id]?(t(c),i(c.id),r("FIREBASE_APP")):a&&n[a]&&r("FIREBASE_APP")}}))(Je),at=a(57),nt=a(168),rt=a.n(nt),it=a(169),ct=a(171),ot={currentFirebaseApp:"",firebaseApps:{},route:"HOME",routeParams:{}},lt=["currentFirebaseApp","firebaseApps"];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(320);var st=document.getElementById("container"),ut=function(e){var t=[it.a],a=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:at.c)(at.a.apply(void 0,t),rt()(lt));return Object(at.d)(e,a)}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAVIGATE":return Object(T.a)({},e,{route:t.payload.route,routeParams:t.payload.params?t.payload.params:{}});case"FIREBASE_APP_CREATED":case"FIREBASE_APP_UPDATED":return Object(T.a)({},e,{firebaseApps:Object(T.a)({},e.firebaseApps,Object(P.a)({},t.payload.id,t.payload))});case"FIREBASE_APP_DELETED":var a=e.firebaseApps,n=t.payload,r=(a[n],Object(W.a)(a,[n].map(ct.a)));return Object(T.a)({},e,{currentFirebaseApp:t.payload===e.currentFirebaseApp?"":e.currentFirebaseApp,firebaseApps:r});case"FIREBASE_APP_SELECTED":return Object(T.a)({},e,{currentFirebaseApp:t.payload});default:return e}}));if(!st)throw new Error("Container is missing");i.a.render(n.createElement(c.a,{store:ut},n.createElement(tt,null)),st),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[188,1,2]]]);
//# sourceMappingURL=main.2f0a015f.chunk.js.map