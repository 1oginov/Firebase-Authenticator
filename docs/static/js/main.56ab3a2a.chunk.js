(this["webpackJsonpfirebase-authenticator"]=this["webpackJsonpfirebase-authenticator"]||[]).push([[0],{109:function(e,t,n){e.exports=n(151)},150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(11),i=n.n(r),c=n(18),o=(n(117),n(211)),l=n(209),s=n(53),u=n.n(s),p=n(191),m=n(195),d=n(194),g=n(44),b=n(77),f=n.n(b),h=function(e){var t=e.actionItems,n=e.classes,r=e.navigationClick,i=e.navigationIcon,c=e.title;return a.createElement(p.a,{color:"default",position:"static"},a.createElement(d.a,null,a.createElement(m.a,{className:n.navigationButton,color:"inherit",onClick:r},i||a.createElement(f.a,null)),a.createElement(g.a,{className:n.title,color:"inherit",noWrap:!0,variant:"h6"},c),t&&t.length>0&&a.createElement("div",{className:n.actionItems},t.map((function(e,t){var n=e.click,r=e.icon;return a.createElement(m.a,{color:"inherit",key:t,onClick:n},r)})))))};h.defaultProps={actionItems:void 0,navigationIcon:void 0};var E=h,v=n(4),O=Object(v.a)((function(e){return{actionItems:{flexShrink:0,marginRight:-1.5*e.spacing.unit},navigationButton:{marginLeft:-1.5*e.spacing.unit,marginRight:2.5*e.spacing.unit},title:{flexGrow:1}}}))(E),A=n(199),y=n(197),I=n(198),j=n(97),k=n(212),P=n(210),C=function(e){var t=e.apiKey,n=e.authDomain,r=e.buttonIcon,i=e.buttonTitle,c=e.classes,o=e.className,l=e.databaseUrl,s=e.handleInputChange,u=e.handleSubmit,p=e.messagingSenderId,m=e.projectId,d=e.redirectRefreshTokenPlaceholder,b=e.redirectUrl,f=e.signInOptionEmail,h=e.signInOptionGithub,E=e.signInOptionGoogle,v=e.storageBucket,O=e.title;return a.createElement("form",{className:[c.root,o].join(" "),onSubmit:u},a.createElement(j.a,{className:c.paper},a.createElement(P.a,{fullWidth:!0,label:"Title",margin:"normal",name:"title",onChange:s,value:O,variant:"outlined"})),a.createElement(j.a,{className:c.paper},a.createElement(g.a,{variant:"h6"},"Redirect"),a.createElement(P.a,{fullWidth:!0,label:"URL",margin:"normal",name:"redirectUrl",onChange:s,value:b,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Refresh token placeholder",margin:"normal",name:"redirectRefreshTokenPlaceholder",onChange:s,value:d,variant:"outlined"})),a.createElement(j.a,{className:c.paper},a.createElement(g.a,{variant:"h6"},"Firebase: configuration"),a.createElement(P.a,{fullWidth:!0,label:"API key",margin:"normal",name:"apiKey",onChange:s,value:t,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Auth domain",margin:"normal",name:"authDomain",onChange:s,value:n,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Database URL",margin:"normal",name:"databaseUrl",onChange:s,value:l,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Messaging sender ID",margin:"normal",name:"messagingSenderId",onChange:s,value:p,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Project ID",margin:"normal",name:"projectId",onChange:s,value:m,variant:"outlined"}),a.createElement(P.a,{fullWidth:!0,label:"Storage bucket",margin:"normal",name:"storageBucket",onChange:s,value:v,variant:"outlined"})),a.createElement(j.a,{className:c.paper},a.createElement(g.a,{variant:"h6"},"Firebase: sign in options"),a.createElement(y.a,null,a.createElement(I.a,{control:a.createElement(k.a,{checked:f,name:"signInOptionEmail",onChange:s}),label:"Email"}),a.createElement(I.a,{control:a.createElement(k.a,{checked:h,name:"signInOptionGithub",onChange:s}),label:"GitHub"}),a.createElement(I.a,{control:a.createElement(k.a,{checked:E,name:"signInOptionGoogle",onChange:s}),label:"Google"}))),a.createElement("div",{className:c.buttonContainer},a.createElement(A.a,{color:"primary",type:"submit",variant:"extended"},r(c.buttonIcon),i)))},S=n(55),F=n(34),D=n(10),N=n(79),w=n.n(N),R=Object(D.a)(Object(D.e)((function(e){var t=e.initial;return{apiKey:t&&t.config.apiKey||"",authDomain:t&&t.config.authDomain||"",databaseUrl:t&&t.config.databaseURL||"",messagingSenderId:t&&t.config.messagingSenderId||"",projectId:t&&t.config.projectId||"",redirectRefreshTokenPlaceholder:t&&t.redirect.refreshTokenPlaceholder||"%refreshToken%",redirectUrl:t&&t.redirect.url||"",signInOptionEmail:!!t&&t.signInOptions.indexOf("email")>=0,signInOptionGithub:!!t&&t.signInOptions.indexOf("github")>=0,signInOptionGoogle:!!t&&t.signInOptions.indexOf("google")>=0,storageBucket:t&&t.config.storageBucket||"",title:t&&t.title||""}}),{handleInputChange:function(){return function(e){var t=e.target,n=t.checked,a=t.name,r=t.type,i=t.value;return Object(F.a)({},a,"checkbox"===r?n:i)}}}),Object(D.c)({handleSubmit:function(e){var t=e.apiKey,n=e.authDomain,a=e.databaseUrl,r=e.messagingSenderId,i=e.onSubmit,c=e.projectId,o=e.redirectRefreshTokenPlaceholder,l=e.redirectUrl,s=e.signInOptionEmail,u=e.signInOptionGithub,p=e.signInOptionGoogle,m=e.storageBucket,d=e.title;return function(e){e.preventDefault(),i({config:{apiKey:t,authDomain:n,databaseURL:a,messagingSenderId:r,projectId:c,storageBucket:m},id:w()(),redirect:{refreshTokenPlaceholder:o,url:l},signInOptions:[].concat(Object(S.a)(s?["email"]:[]),Object(S.a)(u?["github"]:[]),Object(S.a)(p?["google"]:[])),title:d})}}})),B=Object(v.a)((function(e){return{buttonContainer:{textAlign:"center"},buttonIcon:{marginRight:e.spacing.unit},paper:{marginBottom:3*e.spacing.unit,padding:3*e.spacing.unit,paddingBottom:2*e.spacing.unit,paddingTop:2*e.spacing.unit},root:{maxWidth:"100%"}}}))(R(C)),_=function(e){var t=e.classes,n=e.handleBackClick,r=e.onSubmit;return a.createElement(a.Fragment,null,a.createElement(O,{navigationClick:n,title:"Create Firebase app"}),a.createElement("div",{className:t.root},a.createElement(B,{className:t.form,buttonIcon:function(e){return a.createElement(u.a,{className:e})},buttonTitle:"Create app",onSubmit:r})))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e,t){return function(n){n({payload:{params:t,route:e},type:"NAVIGATE"})}},L=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_CREATED"})}},W=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_SELECTED"})}},G=n(54),M={navigate:U},H=function(e){return Object(D.a)(Object(c.b)(null,M),Object(D.c)((function(){var t={};return Object.keys(e).forEach((function(n){t[n]=function(t){var a=t.navigate,r=Object(G.a)(t,["navigate"]);return function(t){var i=e[n];if("function"===typeof i){var c=i(r,t),o=c.params,l=c.route;a(l,o)}else{var s=e[n];a(s)}}}})),t})))},V={createFirebaseApp:L,selectFirebaseApp:W},z=Object(D.a)(H({handleBackClick:"HOME",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)(null,V),Object(D.c)({onSubmit:function(e){var t=e.createFirebaseApp,n=e.handleFirebaseAppNavigate,a=e.selectFirebaseApp;return function(e){t(e),a(e.id),n()}}})),K=function(e){return{alignItems:"center",display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"center",padding:3*e.spacing.unit}},J=Object(v.a)((function(e){return{form:{width:512},root:K(e)}}))(z(_)),X=n(80),$=n(81),q=n(95),Q=n(82),Y=n(96),Z=n(86),ee=n.n(Z),te=n(88),ne=n.n(te),ae=n(87),re=n.n(ae),ie=n(6),ce=n.n(ie),oe=(n(58),n(204)),le=n(200),se=n(203),ue=n(202),pe=n(201),me=function(e){var t=e.classes,n=e.email,r=e.handleContinueClick,i=e.handleSignOutClick,c=e.name,o=e.pictureUrl;return a.createElement(le.a,null,o&&a.createElement(pe.a,{className:t.media,image:o,title:"User"}),a.createElement(ue.a,null,a.createElement(g.a,{gutterBottom:Boolean(c||n),variant:"h6"},"Signed in"),c&&a.createElement(g.a,null,c),n&&a.createElement(g.a,null,n)),a.createElement(se.a,{className:t.actions},a.createElement(oe.a,{color:"secondary",onClick:i,size:"small"},"Sign out"),a.createElement(oe.a,{color:"primary",onClick:r,size:"small"},"Continue")))},de=Object(D.a)(Object(D.c)({handleContinueClick:function(e){var t=e.app,n=e.appInstance;return function(){var e=n.auth().currentUser;if(!e)throw new Error("User is missing");var a,r=e.refreshToken;a=t.redirect.url.replace(t.redirect.refreshTokenPlaceholder,r),window.location=a}},handleSignOutClick:function(e){var t=e.appInstance;return function(){t.auth().signOut()}}}),Object(D.d)((function(e){var t=e.appInstance.auth().currentUser;if(!t)throw new Error("User is missing");return{email:t.email||"",name:t.displayName||"",pictureUrl:t.photoURL||""}}))),ge=Object(v.a)({actions:{justifyContent:"space-between"},media:{paddingTop:"100%"}})(de(me)),be=n(83),fe=n.n(be),he=function(e){var t=e.classes;return a.createElement(fe.a,{className:t.root},"Configured apps persisted only in this browser and nowhere else. The project is open source and available at"," ",a.createElement("a",{className:t.link,href:"https://github.com/1oginov/Firebase-Authenticator",target:"_blank",rel:"noopener noreferrer"},"GitHub"))},Ee=Object(v.a)((function(e){return{link:{color:e.palette.text.secondary},root:{color:e.palette.text.hint,maxWidth:52*e.spacing.unit,textAlign:"center"}}}))(he),ve=n(84),Oe=n.n(ve),Ae=function(e){var t=e.appInstance,n={callbacks:{signInSuccessWithAuthResult:function(){return!1}},signInOptions:e.signInOptions.map((function(e){switch(e){case"email":return ce.a.auth.EmailAuthProvider.PROVIDER_ID;case"github":return ce.a.auth.GithubAuthProvider.PROVIDER_ID;case"google":return ce.a.auth.GoogleAuthProvider.PROVIDER_ID;default:return}}))};return a.createElement(Oe.a,{firebaseAuth:t.auth(),uiConfig:n})},ye=Object(D.b)({componentDidCatch:function(){var e;(e=console).error.apply(e,arguments)}})(Ae),Ie=n(205),je=function(e){var t=e.classes,n=e.text;return a.createElement("div",{className:t.root},a.createElement(Ie.a,{size:64}),a.createElement(g.a,{className:t.text,color:"textSecondary",variant:"body1"},n))},ke=Object(v.a)((function(e){return{root:{alignItems:"center",display:"flex",flexDirection:"column"},text:{marginTop:3*e.spacing.unit,textAlign:"center"}}}))(je),Pe=function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object(q.a)(this,Object(Q.a)(t).call(this,e))).state={appInstance:void 0,isAuthenticated:void 0},n}return Object(Y.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app,n=ce.a.initializeApp(t.config);try{this.unregisterAuthObserver=n.auth().onAuthStateChanged((function(t){e.setState({isAuthenticated:Boolean(t)})}))}catch(a){console.error(a)}console.log("Firebase app initialized",t.config),this.setState({appInstance:n})}},{key:"componentWillUnmount",value:function(){var e=this.props.app,t=this.state.appInstance;this.unregisterAuthObserver&&this.unregisterAuthObserver(),t&&t.delete().then((function(){return console.log("Firebase app deleted",e.config)}))}},{key:"renderAuth",value:function(){var e=this.props.app,t=this.state,n=t.appInstance,r=t.isAuthenticated;return n?!1===r?a.createElement(ye,{appInstance:n,signInOptions:e.signInOptions}):!0===r?a.createElement(ge,{app:e,appInstance:n}):a.createElement(ke,{text:"Loading authentication state..."}):a.createElement(ke,{text:"Initializing Firebase app..."})}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.classes,r=e.handleBackClick,i=e.handleShareClick,c=e.handleUpdateClick;return a.createElement(a.Fragment,null,a.createElement(O,{actionItems:[{click:c,icon:a.createElement(ee.a,null)},{click:i,icon:a.createElement(re.a,null)}],navigationClick:r,navigationIcon:a.createElement(ne.a,null),title:t.title?t.title:t.id}),a.createElement("div",{className:n.root},a.createElement("div",{className:n.authContainer},this.renderAuth()),a.createElement(g.a,{className:n.info,variant:"body1"},a.createElement("strong",null,"Firebase auth domain:")," ",t.config.authDomain),a.createElement(g.a,{className:n.info,variant:"body1"},a.createElement("strong",null,"Redirect URL:")," ",t.redirect.url),a.createElement(Ee,null)))}}]),t}(a.Component),Ce=Object(D.a)(H({handleBackClick:"HOME",handleUpdateClick:"UPDATE_FIREBASE_APP"}),Object(c.b)((function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}})),Object(D.c)({handleShareClick:function(e){var t=e.app;return function(){prompt("Share this link:",function(e){var t=new URL(window.location.href);return t.search="",t.searchParams.append("firebase-app",JSON.stringify(e)),t.toString()}(t))}}})),Se=Object(v.a)((function(e){return{authContainer:{marginBottom:3*e.spacing.unit},info:{marginBottom:3*e.spacing.unit,textAlign:"center"},root:K(e)}}))(Ce(Pe)),Fe=n(196),De=n(206),Ne=n(207),we=function(e){var t=e.app,n=e.onSelect;return a.createElement(De.a,{button:!0,onClick:function(){return n(t.id)}},a.createElement(Ne.a,{primary:t.title?t.title:t.id,primaryTypographyProps:{noWrap:!0}}))},Re=function(e){var t=e.apps,n=e.classes,r=e.className,i=e.onSelect;return 0===t.length?null:a.createElement(j.a,{className:[n.paper,r].join(" ")},a.createElement(Fe.a,null,t.map((function(e,t){return a.createElement(we,{app:e,key:t,onSelect:i})}))))},Be=Object(v.a)({paper:{maxWidth:"100%"}})(Re),_e=function(e){var t=e.classes,n=e.className;return a.createElement(g.a,{className:[t.root,n].join(" "),variant:"h4"},"Firebase Authenticator")},Te=Object(v.a)({root:{textAlign:"center"}})(_e),xe=function(e){var t=e.apps,n=e.classes,r=e.handleCreateFirebaseAppClick,i=e.onSelect;return a.createElement("div",{className:n.root},a.createElement(Te,{className:n.logo}),a.createElement(Be,{apps:t,className:n.firebaseAppsList,onSelect:i}),a.createElement("div",{className:n.fabContainer},a.createElement(A.a,{color:"secondary",onClick:r,variant:"extended"},a.createElement(u.a,{className:n.fabIcon}),"Create Firebase app")),a.createElement(Ee,null))},Ue={selectFirebaseApp:W},Le=Object(D.a)(H({handleCreateFirebaseAppClick:"CREATE_FIREBASE_APP",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)((function(e){var t=e.firebaseApps;return{apps:Object.keys(t).map((function(e){return t[e]}))}}),Ue),Object(D.c)({onSelect:function(e){var t=e.handleFirebaseAppNavigate,n=e.selectFirebaseApp;return function(e){n(e),t()}}})),We=Object(v.a)((function(e){return{fabContainer:{marginBottom:3*e.spacing.unit,textAlign:"center"},fabIcon:{marginRight:e.spacing.unit},firebaseAppsList:{marginBottom:3*e.spacing.unit},logo:{marginBottom:5*e.spacing.unit,marginTop:2*e.spacing.unit},root:K(e)}}))(Le(xe)),Ge=n(208),Me=n(89),He=n.n(Me),Ve=function(e){var t=e.app,n=e.classes,r=e.handleBackClick,i=e.handleDeleteClick,c=e.onSubmit;return a.createElement(a.Fragment,null,a.createElement(O,{navigationClick:r,title:"Update Firebase app"}),a.createElement("div",{className:n.root},a.createElement(B,{className:n.form,buttonIcon:function(e){return a.createElement(He.a,{className:e})},buttonTitle:"Save changes",initial:t,onSubmit:c}),a.createElement("div",null,a.createElement(Ge.a,{className:n.deleteDivider}),a.createElement("div",{className:n.deleteContainer},a.createElement(oe.a,{className:n.deleteButton,onClick:i,variant:"outlined"},"Delete"),a.createElement(g.a,null,"This action cannot be undone!")))))},ze={deleteFirebaseApp:function(e){return function(t){t({payload:e,type:"FIREBASE_APP_DELETED"})}},updateFirebaseApp:function(e,t){return function(n){n({payload:x({},t,{id:e}),type:"FIREBASE_APP_UPDATED"})}}},Ke=Object(D.a)(H({handleBackClick:"FIREBASE_APP",handleHomeClick:"HOME"}),Object(c.b)((function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}}),ze),Object(D.c)({handleDeleteClick:function(e){var t=e.app,n=e.deleteFirebaseApp,a=e.handleHomeClick;return function(){a(),n(t.id)}},onSubmit:function(e){var t=e.app,n=e.handleBackClick,a=e.updateFirebaseApp;return function(e){a(t.id,e),n()}}})),Je=Object(v.a)((function(e){return{deleteButton:{color:e.palette.error.main,marginRight:2*e.spacing.unit},deleteContainer:{alignItems:"center",display:"flex"},deleteDivider:{marginBottom:2*e.spacing.unit,marginTop:3*e.spacing.unit},form:{width:512},root:K(e)}}))(Ke(Ve)),Xe=function(e){var t,n=e.route,r=e.theme;switch(n){case"CREATE_FIREBASE_APP":t=a.createElement(J,null);break;case"FIREBASE_APP":t=a.createElement(Se,null);break;case"UPDATE_FIREBASE_APP":t=a.createElement(Je,null);break;default:t=a.createElement(We,null)}return a.createElement(l.a,{theme:r},a.createElement(o.a,null),t)},$e=n(94),qe=n(90),Qe=n.n(qe),Ye=n(91),Ze=n.n(Ye),et={palette:{primary:Qe.a,secondary:Ze.a},typography:{useNextVariants:!0}},tt={createFirebaseApp:L,navigate:U,selectFirebaseApp:W},nt=Object(D.a)(Object(D.d)((function(){return{theme:Object($e.a)(et)}})),Object(c.b)((function(e){return{currentFirebaseApp:e.currentFirebaseApp,firebaseApps:e.firebaseApps,route:e.route}}),tt),Object(D.b)({componentDidMount:function(){var e=this.props,t=e.createFirebaseApp,n=e.currentFirebaseApp,a=e.firebaseApps,r=e.navigate,i=e.selectFirebaseApp,c=function(e){var t=new URL(e).searchParams.get("firebase-app");if(t)try{return JSON.parse(t)}catch(n){console.error(n)}}(window.location.href);c&&!a[c.id]?(t(c),i(c.id),r("FIREBASE_APP")):n&&a[n]&&r("FIREBASE_APP")}}))(Xe),at=n(41),rt=n(92),it=n.n(rt),ct=n(93);function ot(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut={currentFirebaseApp:"",firebaseApps:{},route:"HOME",routeParams:{}},pt=["currentFirebaseApp","firebaseApps"];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(150);var mt=document.getElementById("container"),dt=function(e){var t=[ct.a],n=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:at.c)(at.a.apply(void 0,t),it()(pt));return Object(at.d)(e,n)}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAVIGATE":return st({},e,{route:t.payload.route,routeParams:t.payload.params?t.payload.params:{}});case"FIREBASE_APP_CREATED":case"FIREBASE_APP_UPDATED":return st({},e,{firebaseApps:st({},e.firebaseApps,Object(F.a)({},t.payload.id,t.payload))});case"FIREBASE_APP_DELETED":var n=e.firebaseApps,a=t.payload,r=(n[a],Object(G.a)(n,[a].map(ot)));return st({},e,{currentFirebaseApp:t.payload===e.currentFirebaseApp?"":e.currentFirebaseApp,firebaseApps:r});case"FIREBASE_APP_SELECTED":return st({},e,{currentFirebaseApp:t.payload});default:return e}}));if(!mt)throw new Error("Container is missing");i.a.render(a.createElement(c.a,{store:dt},a.createElement(nt,null)),mt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[109,1,2]]]);
//# sourceMappingURL=main.56ab3a2a.chunk.js.map