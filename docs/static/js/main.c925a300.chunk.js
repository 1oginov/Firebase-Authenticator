(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){e.exports=n(328)},328:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),i=n.n(r),c=n(19),l=(n(149),n(133)),o=n.n(l),s=n(10),u=n(58),p=n.n(u),m=n(115),d=n.n(m),h=n(56),g=n.n(h),b=n(116),E=n.n(b),f=n(23),v=n.n(f),A=n(117),O=n.n(A),I=function(e){var t=e.actionItems,n=e.classes,r=e.navigationClick,i=e.navigationIcon,c=e.title;return a.createElement(d.a,{color:"default",position:"static"},a.createElement(E.a,null,a.createElement(g.a,{className:n.navigationButton,color:"inherit",onClick:r},i||a.createElement(O.a,null)),a.createElement(v.a,{className:n.title,color:"inherit",noWrap:!0,variant:"h6"},c),t&&t.length>0&&a.createElement("div",{className:n.actionItems},t.map(function(e,t){var n=e.click,r=e.icon;return a.createElement(g.a,{color:"inherit",key:t,onClick:n},r)}))))};I.defaultProps={actionItems:void 0,navigationIcon:void 0};var k=I,C=Object(s.withStyles)(function(e){return{actionItems:{flexShrink:0,marginRight:-1.5*e.spacing.unit},navigationButton:{marginLeft:-1.5*e.spacing.unit,marginRight:2.5*e.spacing.unit},title:{flexGrow:1}}})(k),y=n(57),S=n.n(y),j=n(118),P=n.n(j),F=n(60),w=n.n(F),R=n(28),N=n.n(R),_=n(61),B=n.n(_),D=n(26),T=n.n(D),U=function(e){var t=e.apiKey,n=e.authDomain,r=e.buttonIcon,i=e.buttonTitle,c=e.classes,l=e.className,o=e.databaseUrl,s=e.handleInputChange,u=e.handleSubmit,p=e.messagingSenderId,m=e.projectId,d=e.redirectRefreshTokenPlaceholder,h=e.redirectUrl,g=e.signInOptionEmail,b=e.signInOptionGithub,E=e.signInOptionGoogle,f=e.storageBucket,A=e.title;return a.createElement("form",{className:[c.root,l].join(" "),onSubmit:u},a.createElement(N.a,{className:c.paper},a.createElement(T.a,{fullWidth:!0,label:"Title",margin:"normal",name:"title",onChange:s,value:A,variant:"outlined"})),a.createElement(N.a,{className:c.paper},a.createElement(v.a,{variant:"h6"},"Configuration"),a.createElement(T.a,{fullWidth:!0,label:"API key",margin:"normal",name:"apiKey",onChange:s,value:t,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Auth domain",margin:"normal",name:"authDomain",onChange:s,value:n,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Database URL",margin:"normal",name:"databaseUrl",onChange:s,value:o,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Messaging sender ID",margin:"normal",name:"messagingSenderId",onChange:s,value:p,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Project ID",margin:"normal",name:"projectId",onChange:s,value:m,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Storage bucket",margin:"normal",name:"storageBucket",onChange:s,value:f,variant:"outlined"})),a.createElement(N.a,{className:c.paper},a.createElement(v.a,{variant:"h6"},"Sign in options"),a.createElement(P.a,null,a.createElement(w.a,{control:a.createElement(B.a,{checked:g,name:"signInOptionEmail",onChange:s}),label:"Email"}),a.createElement(w.a,{control:a.createElement(B.a,{checked:b,name:"signInOptionGithub",onChange:s}),label:"GitHub"}),a.createElement(w.a,{control:a.createElement(B.a,{checked:E,name:"signInOptionGoogle",onChange:s}),label:"Google"}))),a.createElement(N.a,{className:c.paper},a.createElement(v.a,{variant:"h6"},"Redirect"),a.createElement(T.a,{fullWidth:!0,label:"URL",margin:"normal",name:"redirectUrl",onChange:s,value:h,variant:"outlined"}),a.createElement(T.a,{fullWidth:!0,label:"Refresh token placeholder",margin:"normal",name:"redirectRefreshTokenPlaceholder",onChange:s,value:d,variant:"outlined"})),a.createElement("div",{className:c.buttonContainer},a.createElement(S.a,{color:"primary",type:"submit",variant:"extended"},r(c.buttonIcon),i)))},x=n(62),W=n(42),L=n(9),G=n(120),M=n.n(G),H=Object(L.a)(Object(L.e)(function(e){var t=e.initial;return{apiKey:t&&t.config.apiKey||"",authDomain:t&&t.config.authDomain||"",databaseUrl:t&&t.config.databaseURL||"",messagingSenderId:t&&t.config.messagingSenderId||"",projectId:t&&t.config.projectId||"",redirectRefreshTokenPlaceholder:t&&t.redirect.refreshTokenPlaceholder||"%refreshToken%",redirectUrl:t&&t.redirect.url||"",signInOptionEmail:!!t&&t.signInOptions.indexOf("email")>=0,signInOptionGithub:!!t&&t.signInOptions.indexOf("github")>=0,signInOptionGoogle:!!t&&t.signInOptions.indexOf("google")>=0,storageBucket:t&&t.config.storageBucket||"",title:t&&t.title||""}},{handleInputChange:function(){return function(e){var t=e.target,n=t.checked,a=t.name,r=t.type,i=t.value;return Object(W.a)({},a,"checkbox"===r?n:i)}}}),Object(L.c)({handleSubmit:function(e){var t=e.apiKey,n=e.authDomain,a=e.databaseUrl,r=e.messagingSenderId,i=e.onSubmit,c=e.projectId,l=e.redirectRefreshTokenPlaceholder,o=e.redirectUrl,s=e.signInOptionEmail,u=e.signInOptionGithub,p=e.signInOptionGoogle,m=e.storageBucket,d=e.title;return function(e){e.preventDefault(),i({config:{apiKey:t,authDomain:n,databaseURL:a,messagingSenderId:r,projectId:c,storageBucket:m},id:M()(),redirect:{refreshTokenPlaceholder:l,url:o},signInOptions:[].concat(Object(x.a)(s?["email"]:[]),Object(x.a)(u?["github"]:[]),Object(x.a)(p?["google"]:[])),title:d})}}})),V=Object(s.withStyles)(function(e){return{buttonContainer:{textAlign:"center"},buttonIcon:{marginRight:e.spacing.unit},paper:{marginBottom:3*e.spacing.unit,padding:3*e.spacing.unit,paddingBottom:2*e.spacing.unit,paddingTop:2*e.spacing.unit},root:{maxWidth:"100%"}}})(H(U)),K=function(e){var t=e.classes,n=e.handleBackClick,r=e.onSubmit;return a.createElement(a.Fragment,null,a.createElement(C,{navigationClick:n,title:"Create Firebase app"}),a.createElement("div",{className:t.root},a.createElement(V,{className:t.form,buttonIcon:function(e){return a.createElement(p.a,{className:e})},buttonTitle:"Create app",onSubmit:r})))},J=n(33),X=function(e,t){return function(n){n({payload:{params:t,route:e},type:"NAVIGATE"})}},z=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_CREATED"})}},Y=function(e){return function(t){t({payload:e,type:"FIREBASE_APP_SELECTED"})}},$=n(59),q={navigate:X},Q=function(e){return Object(L.a)(Object(c.b)(null,q),Object(L.c)(function(){var t={};return Object.keys(e).forEach(function(n){t[n]=function(t){var a=t.navigate,r=Object($.a)(t,["navigate"]);return function(t){var i=e[n];if("function"===typeof i){var c=i(r,t),l=c.params,o=c.route;a(o,l)}else{var s=e[n];a(s)}}}}),t}))},Z={createFirebaseApp:z,selectFirebaseApp:Y},ee=Object(L.a)(Q({handleBackClick:"HOME",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)(null,Z),Object(L.c)({onSubmit:function(e){var t=e.createFirebaseApp,n=e.handleFirebaseAppNavigate,a=e.selectFirebaseApp;return function(e){t(e),a(e.id),n()}}})),te=function(e){return{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",padding:3*e.spacing.unit}},ne=Object(s.withStyles)(function(e){return{form:{width:512},root:te(e)}})(ee(K)),ae=n(121),re=n(122),ie=n(138),ce=n(123),le=n(139),oe=n(125),se=n.n(oe),ue=n(127),pe=n.n(ue),me=n(126),de=n.n(me),he=n(35),ge=n.n(he),be=(n(112),function(e){var t=e.email,n=e.handleContinueClick,r=e.handleSignOutClick,i=e.name,c=e.pictureUrl;return a.createElement(a.Fragment,null,a.createElement("div",null,"Signed in as ",a.createElement("strong",null,i)," ",a.createElement("em",null,t)),a.createElement("div",null,a.createElement("button",{onClick:n,type:"button"},"Continue")),a.createElement("div",null,a.createElement("button",{onClick:r,type:"button"},"Sign out")),a.createElement("div",null,a.createElement("img",{alt:"User",src:c})))}),Ee=Object(L.a)(Object(L.c)({handleContinueClick:function(e){var t=e.app,n=e.appInstance;return function(){var e=n.auth().currentUser;if(!e)throw new Error("User is missing");var a,r=e.refreshToken;a=t.redirect.url.replace(t.redirect.refreshTokenPlaceholder,r),window.location=a}},handleSignOutClick:function(e){var t=e.appInstance;return function(){t.auth().signOut()}}}),Object(L.d)(function(e){var t=e.appInstance.auth().currentUser;if(!t)throw new Error("User is missing");return{email:t.email||"",name:t.displayName||"",pictureUrl:t.photoURL||""}}))(be),fe=n(124),ve=n.n(fe),Ae=function(e){var t=e.appInstance,n={callbacks:{signInSuccessWithAuthResult:function(){return!1}},signInOptions:e.signInOptions.map(function(e){switch(e){case"email":return ge.a.auth.EmailAuthProvider.PROVIDER_ID;case"github":return ge.a.auth.GithubAuthProvider.PROVIDER_ID;case"google":return ge.a.auth.GoogleAuthProvider.PROVIDER_ID;default:return}})};return a.createElement(ve.a,{firebaseAuth:t.auth(),uiConfig:n})},Oe=Object(L.b)({componentDidCatch:function(){var e;(e=console).error.apply(e,arguments)}})(Ae),Ie=function(e){function t(){var e,n;Object(ae.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).state={appInstance:void 0,isAuthenticated:void 0},n}return Object(le.a)(t,e),Object(re.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app,n=ge.a.initializeApp(t.config);try{this.unregisterAuthObserver=n.auth().onAuthStateChanged(function(t){e.setState({isAuthenticated:Boolean(t)})})}catch(a){console.error(a)}console.log("Firebase app initialized",t.config),this.setState({appInstance:n})}},{key:"componentWillUnmount",value:function(){var e=this.props.app,t=this.state.appInstance;this.unregisterAuthObserver&&this.unregisterAuthObserver(),t&&t.delete().then(function(){return console.log("Firebase app deleted",e.config)})}},{key:"renderAuthComponent",value:function(){var e=this.props.app,t=this.state,n=t.appInstance,r=t.isAuthenticated;return n?!1===r?a.createElement(Oe,{appInstance:n,signInOptions:e.signInOptions}):!0===r?a.createElement(Ee,{app:e,appInstance:n}):a.createElement("div",null,"Loading authentication state..."):a.createElement("div",null,"Initializing Firebase app...")}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.classes,r=e.handleBackClick,i=e.handleShareClick,c=e.handleUpdateClick;return a.createElement(a.Fragment,null,a.createElement(C,{actionItems:[{click:c,icon:a.createElement(se.a,null)},{click:i,icon:a.createElement(de.a,null)}],navigationClick:r,navigationIcon:a.createElement(pe.a,null),title:t.title?t.title:t.id}),a.createElement("div",{className:n.root},this.renderAuthComponent(),a.createElement("div",null,a.createElement("pre",null,JSON.stringify(t,null,2)))))}}]),t}(a.Component),ke=Object(L.a)(Q({handleBackClick:"HOME",handleUpdateClick:"UPDATE_FIREBASE_APP"}),Object(c.b)(function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}}),Object(L.c)({handleShareClick:function(e){var t=e.app;return function(){prompt("Share this link:",function(e){var t=new URL(window.location.href);return t.search="",t.searchParams.append("firebase-app",JSON.stringify(e)),t.toString()}(t))}}})),Ce=Object(s.withStyles)(function(e){return{root:te(e)}})(ke(Ie)),ye=n(77),Se=n.n(ye),je=function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(Se.a,{className:t.text},"Your data persisted only in this browser and nowhere else. The project is open source and available at"," ",a.createElement("a",{className:t.link,href:"https://github.com/1oginov/Firebase-Authenticator"},"GitHub")))},Pe=Object(s.withStyles)(function(e){return{link:{color:e.palette.text.secondary},root:{maxWidth:48*e.spacing.unit,textAlign:"center"},text:{color:e.palette.text.hint}}})(je),Fe=n(78),we=n.n(Fe),Re=n(128),Ne=n.n(Re),_e=n(129),Be=n.n(_e),De=function(e){var t=e.app,n=e.onSelect;return a.createElement(Ne.a,{button:!0,onClick:function(){return n(t.id)}},a.createElement(Be.a,{primary:t.title?t.title:t.id,primaryTypographyProps:{noWrap:!0}}))},Te=function(e){var t=e.apps,n=e.classes,r=e.className,i=e.onSelect;return 0===t.length?null:a.createElement(N.a,{className:[n.paper,r].join(" ")},a.createElement(we.a,null,t.map(function(e,t){return a.createElement(De,{app:e,key:t,onSelect:i})})))},Ue=Object(s.withStyles)({paper:{maxWidth:"100%"}})(Te),xe=function(e){var t=e.classes,n=e.className;return a.createElement(v.a,{className:[t.root,n].join(" "),variant:"h4"},"Firebase Authenticator")},We=Object(s.withStyles)({root:{textAlign:"center"}})(xe),Le=function(e){var t=e.apps,n=e.classes,r=e.handleCreateFirebaseAppClick,i=e.onSelect;return a.createElement("div",{className:n.root},a.createElement(We,{className:n.logo}),a.createElement(Ue,{apps:t,className:n.firebaseAppsList,onSelect:i}),a.createElement("div",{className:n.fabContainer},a.createElement(S.a,{color:"secondary",onClick:r,variant:"extended"},a.createElement(p.a,{className:n.fabIcon}),"Create Firebase app")),a.createElement(Pe,null))},Ge={selectFirebaseApp:Y},Me=Object(L.a)(Q({handleCreateFirebaseAppClick:"CREATE_FIREBASE_APP",handleFirebaseAppNavigate:"FIREBASE_APP"}),Object(c.b)(function(e){var t=e.firebaseApps;return{apps:Object.keys(t).map(function(e){return t[e]})}},Ge),Object(L.c)({onSelect:function(e){var t=e.handleFirebaseAppNavigate,n=e.selectFirebaseApp;return function(e){n(e),t()}}})),He=Object(s.withStyles)(function(e){return{fabContainer:{marginBottom:3*e.spacing.unit,textAlign:"center"},fabIcon:{marginRight:e.spacing.unit},firebaseAppsList:{marginBottom:3*e.spacing.unit},logo:{marginBottom:5*e.spacing.unit,marginTop:2*e.spacing.unit},root:te(e)}})(Me(Le)),Ve=n(132),Ke=n.n(Ve),Je=n(131),Xe=n.n(Je),ze=n(130),Ye=n.n(ze),$e=function(e){var t=e.app,n=e.classes,r=e.handleBackClick,i=e.handleDeleteClick,c=e.onSubmit;return a.createElement(a.Fragment,null,a.createElement(C,{navigationClick:r,title:"Update Firebase app"}),a.createElement("div",{className:n.root},a.createElement(V,{className:n.form,buttonIcon:function(e){return a.createElement(Ye.a,{className:e})},buttonTitle:"Save changes",initial:t,onSubmit:c}),a.createElement("div",null,a.createElement(Xe.a,{className:n.deleteDivider}),a.createElement("div",{className:n.deleteContainer},a.createElement(Ke.a,{className:n.deleteButton,onClick:i,variant:"outlined"},"Delete"),a.createElement(v.a,null,"This action cannot be undone!")))))},qe={deleteFirebaseApp:function(e){return function(t){t({payload:e,type:"FIREBASE_APP_DELETED"})}},updateFirebaseApp:function(e,t){return function(n){n({payload:Object(J.a)({},t,{id:e}),type:"FIREBASE_APP_UPDATED"})}}},Qe=Object(L.a)(Q({handleBackClick:"FIREBASE_APP",handleHomeClick:"HOME"}),Object(c.b)(function(e){var t=e.currentFirebaseApp;return{app:e.firebaseApps[t]}},qe),Object(L.c)({handleDeleteClick:function(e){var t=e.app,n=e.deleteFirebaseApp,a=e.handleHomeClick;return function(){a(),n(t.id)}},onSubmit:function(e){var t=e.app,n=e.handleBackClick,a=e.updateFirebaseApp;return function(e){a(t.id,e),n()}}})),Ze=Object(s.withStyles)(function(e){return{deleteButton:{color:e.palette.error.main,marginRight:2*e.spacing.unit},deleteContainer:{alignItems:"center",display:"flex"},deleteDivider:{marginBottom:2*e.spacing.unit,marginTop:3*e.spacing.unit},form:{width:512},root:te(e)}})(Qe($e)),et=function(e){var t,n=e.route,r=e.theme;switch(n){case"CREATE_FIREBASE_APP":t=a.createElement(ne,null);break;case"FIREBASE_APP":t=a.createElement(Ce,null);break;case"UPDATE_FIREBASE_APP":t=a.createElement(Ze,null);break;default:t=a.createElement(He,null)}return a.createElement(s.MuiThemeProvider,{theme:r},a.createElement(o.a,null),t)},tt=n(134),nt=n.n(tt),at=n(135),rt=n.n(at),it={palette:{primary:nt.a,secondary:rt.a},typography:{useNextVariants:!0}},ct={createFirebaseApp:z,navigate:X,selectFirebaseApp:Y},lt=Object(L.a)(Object(L.d)(function(){return{theme:Object(s.createMuiTheme)(it)}}),Object(c.b)(function(e){return{currentFirebaseApp:e.currentFirebaseApp,firebaseApps:e.firebaseApps,route:e.route}},ct),Object(L.b)({componentDidMount:function(){var e=this.props,t=e.createFirebaseApp,n=e.currentFirebaseApp,a=e.firebaseApps,r=e.navigate,i=e.selectFirebaseApp,c=function(e){var t=new URL(e).searchParams.get("firebase-app");if(t)try{return JSON.parse(t)}catch(n){console.error(n)}}(window.location.href);c&&!a[c.id]?(t(c),i(c.id),r("FIREBASE_APP")):n&&a[n]&&r("FIREBASE_APP")}}))(et),ot=n(43),st=n(136),ut=n.n(st),pt=n(137),mt={currentFirebaseApp:"",firebaseApps:{},route:"HOME",routeParams:{}},dt=["currentFirebaseApp","firebaseApps"];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=document.getElementById("container"),gt=function(e){var t=[pt.a],n=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:ot.c)(ot.a.apply(void 0,t),ut()(dt));return Object(ot.d)(e,n)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAVIGATE":return Object(J.a)({},e,{route:t.payload.route,routeParams:t.payload.params?t.payload.params:{}});case"FIREBASE_APP_CREATED":case"FIREBASE_APP_UPDATED":return Object(J.a)({},e,{firebaseApps:Object(J.a)({},e.firebaseApps,Object(W.a)({},t.payload.id,t.payload))});case"FIREBASE_APP_DELETED":var n=e.firebaseApps,a=(n[t.payload],Object($.a)(n,[t.payload]));return Object(J.a)({},e,{currentFirebaseApp:t.payload===e.currentFirebaseApp?"":e.currentFirebaseApp,firebaseApps:a});case"FIREBASE_APP_SELECTED":return Object(J.a)({},e,{currentFirebaseApp:t.payload});default:return e}});if(!ht)throw new Error("Container is missing");i.a.render(a.createElement(c.a,{store:gt},a.createElement(lt,null)),ht),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[140,2,1]]]);
//# sourceMappingURL=main.c925a300.chunk.js.map